<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Animação para OBS</title>
    <!-- Animate.css via CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        body {
            background: transparent;
            margin: 0;
        }
        #fundo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            background: #888; /* cinza padrão */
            transition: background 0.5s;
        }
        .meu-elemento {
            color: white;
            font-size: 24px;
            text-align: center;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div id="fundo"></div>
    <div id="animacao" class="meu-elemento animate__animated animate__bounce">
        <img src="https://kinsta.com/wp-content/uploads/2020/08/tiger-jpg.jpg" alt="">
    </div>
    <script>
        // Função para alterar cor de fundo aleatoriamente
        function corAleatoria() {
            const cores = ['#888', '#555', '#222', '#ccc', '#b0b0b0', '#444', '#999', '#e0e0e0'];
            const cor = cores[Math.floor(Math.random() * cores.length)];
            document.getElementById('fundo').style.background = cor;
        }

        // Trigger para integração com streamer.bot
        window.addEventListener('message', function(event) {
            if (event.data === 'mudarCorFundo') {
                corAleatoria();
            }
        });

        // Exemplo: para testar manualmente no console, execute:
        // window.postMessage('mudarCorFundo', '*');
        const animacoes = [
            'animate__bounce',
            'animate__flash',
            'animate__pulse',
            'animate__rubberBand',
            'animate__shakeX',
            'animate__tada',
            'animate__jello',
            'animate__heartBeat',
            'animate__fadeIn',
            'animate__zoomIn',
            'animate__slideInUp'
        ];
        const textoAnimado = [
            'Bounce',
            'Flash',
            'Pulse',
            'RubberBand',
            'ShakeX',
            'Tada',
            'Jello',
            'HeartBeat',
            'FadeIn',
            'ZoomIn',
            'SlideInUp'
        ];
        let idx = 0;
        const el = document.getElementById('animacao');
        function proximaAnimacao() {
            setTimeout(() => {
                el.className = 'meu-elemento'; 
                void el.offsetWidth;
                el.className = 'meu-elemento animate__animated ' + animacoes[idx];
                el.textContent = textoAnimado[idx];
                idx = (idx + 1) % animacoes.length;
            }, 800); 
        }
        el.addEventListener('animationend', proximaAnimacao);
        proximaAnimacao();
    </script>
</body>
</html>
